#!/bin/bash

# HÃ m in thÃ´ng bÃ¡o cÃ³ mÃ u
function print_info() {
    echo -e "\033[1;34mğŸ‘‰ $1\033[0m"
    sleep 3
}

function print_success() {
    echo -e "\033[0;32mâœ… $1\033[0m"
    sleep 2
}

function print_warning() {
    echo -e "\033[1;33mâš ï¸ $1\033[0m"
    sleep 2
}

# Cáº­p nháº­t há»‡ thá»‘ng
print_info "Báº¯t Ä‘áº§u cáº­p nháº­t há»‡ thá»‘ng..."
apt update && apt upgrade -y
print_success "ÄÃ£ cáº­p nháº­t xong."

# CÃ i Ä‘áº·t cÃ¡c gÃ³i cÆ¡ báº£n
print_info "Tiáº¿p tá»¥c cÃ i Ä‘áº·t cÃ¡c gÃ³i cÆ¡ báº£n..."
apt install -y openssh-server mc nano curl \
    mariadb-client mariadb-server \
    postgresql postgresql-contrib postgresql-client
print_success "CÃ i Ä‘áº·t cÃ¡c gÃ³i xong."

# CÃ i Ä‘áº·t Webmin
print_info "Äang cÃ i Ä‘áº·t Webmin..."
curl -o webmin-setup-repo.sh https://raw.githubusercontent.com/webmin/webmin/master/webmin-setup-repo.sh
yes | sh webmin-setup-repo.sh
apt-get install -y webmin --install-recommends
print_success "Webmin Ä‘Ã£ Ä‘Æ°á»£c cÃ i Ä‘áº·t."

# Táº¡o user
print_info "Äang táº¡o user 'thanh' vÃ  gÃ¡n máº­t kháº©u..."
adduser thanh --gecos "" --disabled-password
echo "thanh:110289" | chpasswd
print_success "Táº¡o user vÃ  gÃ¡n máº­t kháº©u thÃ nh cÃ´ng."

# ThÃªm user vÃ o sudo
print_info "ThÃªm user 'thanh' vÃ o nhÃ³m sudo..."
usermod -aG sudo thanh
print_success "User Ä‘Ã£ cÃ³ quyá»n sudo."

# Kiá»ƒm tra nhÃ³m cá»§a user
print_info "Kiá»ƒm tra cÃ¡c nhÃ³m cá»§a user:"
groups thanh
sleep 2

# Káº¿t thÃºc
print_success "Táº¥t cáº£ cÃ¡c bÆ°á»›c Ä‘Ã£ hoÃ n táº¥t!"
